{% extends "base.html" %}

{% block title %}Statistics - CFR Viewer{% endblock %}

{% block content %}
<h1>Statistics</h1>

<div class="grid">
    <article>
        <header>
            <strong>Top Agencies by Word Count</strong>
        </header>
        <table class="preview-table no-hover">
            <tbody>
                {% for agency in top_agencies %}
                <tr>
                    <td><a href="{{ url_for('statistics.agency_detail', slug=agency.slug) }}">{{ agency.name }}</a></td>
                    <td class="numeric">{{ "{:,}".format(agency.word_count) }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        <a href="{{ url_for('statistics.agencies') }}" class="view-all-link">View all agencies &rarr;</a>
    </article>

    <article>
        <header>
            <strong>Top Titles by Word Count</strong>
        </header>
        <table class="preview-table no-hover">
            <tbody>
                {% for title in top_titles %}
                <tr>
                    <td><a href="{{ url_for('browse.title', title_num=title.number) }}">{{ title.name }}</a></td>
                    <td class="numeric">{{ "{:,}".format(title.word_count) }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        <a href="{{ url_for('statistics.titles') }}" class="view-all-link">View all titles &rarr;</a>
    </article>

    <article>
        <header>
            <strong>Compare Sections</strong>
        </header>
        <p>Compare how CFR sections have changed over time with side-by-side diffs.</p>
        <a href="{{ url_for('compare.index') }}" role="button">Compare Sections</a>
    </article>
</div>
{% endblock %}
