{% extends "base.html" %}
{% from "components/structure_table.html" import structure_table %}
{% from "components/table_filter.html" import table_filter %}

{% block title %}Title {{ title_num }} - Lens{% endblock %}

{% block content %}
<nav aria-label="breadcrumb">
    <ul>
        <li><a href="{{ url_for('browse.titles', year=year) }}">All Titles</a></li>
        <li>Title {{ title_num }}</li>
    </ul>
</nav>

<hgroup>
    <h1>Title {{ title_num }}: {{ title_name }}</h1>
    <p>{{ "{:,}".format(word_count) }} words{% if structure %}, {{ structure.section_count }} sections{% endif %}</p>
</hgroup>

<div class="filter-toolbar">
    {{ table_filter("structure-table", "0", "Filter...") }}
    {% include "components/year_selector.html" %}
</div>
{{ structure_table(structure.children if structure else [], title_num, year, baseline_year=BASELINE_YEAR, table_id="structure-table") }}
{% endblock %}
